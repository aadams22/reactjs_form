<html>
<head>
  <title></title>
  <link rel="stylesheet" type="text/css" href="./styles/main.css">
</head>
<body>

<div id="login-container"></div>
<div id="user-data"></div>

    <script src="https://fb.me/react-15.0.0.js"></script>
    <script src="https://fb.me/react-dom-15.0.0.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
    <script type="text/babel">

      var data = [
      ];


      var FormInput = React.createClass({
          getInitialState: function() {
            return {firstname: '', email: ''};
          },
          handleNameChange: function(e) {
            this.setState({firstname: e.target.value});
          },
          handleEmailChange: function(e) {
            this.setState({email: e.target.value});
          },
          handleSubmit: function(e) {
            e.preventDefault();
            var firstName  = this.state.firstname.trim();
            var email = this.state.email.trim();
            if(!firstName) { return; }
            console.log('name: ', firstName);
            console.log('email: ', email);
          },
          isEmpty: function() {
            if (this.props.required && !this.props.value) {
              console.log('this.props.required && !this.props.value');
              message = this.props.emptyMessage;
              valid = false;
              errorVisable = true;
            }
          },
          validateEmail: function(state) {
            return { email: /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(state.email) }
          },
          validateName: function(state) {
            return { firstname: /[a-zA-ZäöüßÄÖÜ]/.test(state.firstname) }
          },
          render: function() {
              return (
                <form onSubmit={ this.handleSubmit }>


                  <input type="text" 
                          placeholder="Name"
                          value={this.state.firstname} 
                          errorMessage="Really buddy? Your name probably doesn't include numbers."
                          emptyMessage="Sorry, but we need your name, mate."
                          onChange={this.handleNameChange}
                          required />
                  <br /><br />
                  <input type="email" 
                         placeholder="example@example.com"
                         validate={this.validateEmail}
                         errorMessage="Oops! Try typing your email again."
                         emptyMessage="Sorry, but we need your email, mate."
                         value={this.state.email} 
                         onChange={this.handleEmailChange}
                         required  />
                  <br /><br />
                  <input type="submit" value="Post"></input>
                </form>
              );
          }

        });
      

      var InputError = React.createClass({
        getInitialState: function() {
          console.log("input error");
          return { message: 'The machine is perturbed. Something went awry.' };
        },
        render: function() {
          var errorClass = classNames(this.props.className, {
            'error_container': true,
            'visible':         this.props.visible,
            'invisible':       !this.props.visible
          });
          return (
            <div className={errorClass}>
            <span>{this.props.errorMessage}</span>
            </div>
          )
        }
      });

      ReactDOM.render(
        <FormInput/>,
        document.getElementById('login-container')
      );



      </script>
</body>
</html>